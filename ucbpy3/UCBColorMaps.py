#!/usr/bin/env python

from matplotlib.colors import Normalize,LinearSegmentedColormap

##########
# origin #
##########

# These ranges come from Ved's /data/07/lekic/_SCRIPTS/make_cpt_ved_final.s
# script, used in the figures in SEMum paper. HOWEVER, variable names "reds"
# and "blues" are reversed therein. This is fixed in the below dict.

vedS = {'range': [-1.0000,-0.9798,-0.9596,-0.9394,-0.9192,-0.8990,-0.8788,-0.8586,-0.8384,-0.8182,-0.7980,-0.7778,-0.7576,-0.7374,-0.7172,-0.6970,-0.6768,-0.6566,-0.6364,-0.6162,-0.5960,-0.5758,-0.5556,-0.5354,-0.5152,-0.4949,-0.4747,-0.4545,-0.4343,-0.4141,-0.3939,-0.3737,-0.3535,-0.3333,-0.3131,-0.2929,-0.2727,-0.2525,-0.2323,-0.2121,-0.1919,-0.1717,-0.1515,-0.1313,-0.1111,-0.0909,-0.0707,-0.0505,-0.0303,-0.0101,0.0101,0.0303,0.0505,0.0707,0.0909,0.1111,0.1313,0.1515,0.1717,0.1919,0.2121,0.2323,0.2525,0.2727,0.2929,0.3131,0.3333,0.3535,0.3737,0.3939,0.4141,0.4343,0.4545,0.4747,0.4949,0.5152,0.5354,0.5556,0.5758,0.5960,0.6162,0.6364,0.6566,0.6768,0.6970,0.7172,0.7374,0.7576,0.7778,0.7980,0.8182,0.8384,0.8586,0.8788,0.8990,0.9192,0.9394,0.9596,0.9798,1.0000],
        'red': [0.5200,0.5497,0.5794,0.6091,0.6389,0.6686,0.6983,0.7280,0.7577,0.7874,0.8171,0.8469,0.8766,0.9063,0.9360,0.9657,0.9674,0.9691,0.9709,0.9726,0.9743,0.9760,0.9777,0.9794,0.9811,0.9829,0.9846,0.9863,0.9880,0.9897,0.9914,0.9931,0.9949,0.9966,0.9983,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9708,0.9415,0.9123,0.8831,0.8538,0.8246,0.7954,0.7661,0.7369,0.7077,0.6784,0.6456,0.6128,0.5800,0.5472,0.5143,0.4815,0.4487,0.4159,0.3831,0.3503,0.3174,0.2846,0.2518,0.2190,0.1862,0.1534,0.1205,0.0877,0.0549,0.0529,0.0510,0.0490,0.0471,0.0451,0.0431,0.0412,0.0392,0.0373,0.0353,0.0333,0.0314,0.0294,0.0275,0.0255,0.0235,0.0216,0.0196],
        'green': [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0500,0.1000,0.1500,0.2000,0.2500,0.3000,0.3500,0.4000,0.4500,0.5000,0.5500,0.6000,0.6500,0.7000,0.7500,0.8000,0.8500,0.9000,0.9500,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9929,0.9857,0.9786,0.9715,0.9643,0.9572,0.9501,0.9430,0.9358,0.9287,0.9216,0.8815,0.8415,0.8014,0.7614,0.7214,0.6813,0.6413,0.6012,0.5612,0.5212,0.4811,0.4411,0.4010,0.3610,0.3209,0.2809,0.2409,0.2008,0.1608,0.1582,0.1556,0.1529,0.1503,0.1477,0.1451,0.1425,0.1399,0.1373,0.1346,0.1320,0.1294,0.1268,0.1242,0.1216,0.1190,0.1163,0.1137],
        'blue': [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.0714,0.1429,0.2143,0.2857,0.3571,0.4286,0.5000,0.5714,0.6429,0.7143,0.7857,0.8571,0.9286,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9630,0.9259,0.8889,0.8519,0.8148,0.7778,0.7407,0.7037,0.6667,0.6296,0.5926,0.5556,0.5185,0.4815,0.4444,0.4074,0.3704,0.3333],
        'over': [5,29,85],
        'under': [132,0,0]}

vedX = {'range': [-0.4,-0.39192,-0.38384,-0.37576,-0.36768,-0.3596,-0.35152,-0.34344,-0.33536,-0.32728,-0.3192,-0.31112,-0.30304,-0.29496,-0.28688,-0.2788,-0.27072,-0.26264,-0.25456,-0.24648,-0.2384,-0.23032,-0.22224,-0.21416,-0.20608,-0.19796,-0.18988,-0.1818,-0.17372,-0.16564,-0.15756,-0.14948,-0.1414,-0.13332,-0.12524,-0.11716,-0.10908,-0.101,-0.09292,-0.08484,-0.07676,-0.06868,-0.0606,-0.05252,-0.04444,-0.03636,-0.02828,-0.0202,-0.01212,-0.00404,0.0101,0.0303,0.0505,0.0707,0.0909,0.1111,0.1313,0.1515,0.1717,0.1919,0.2121,0.2323,0.2525,0.2727,0.2929,0.3131,0.3333,0.3535,0.3737,0.3939,0.4141,0.4343,0.4545,0.4747,0.4949,0.5152,0.5354,0.5556,0.5758,0.5960,0.6162,0.6364,0.6566,0.6768,0.6970,0.7172,0.7374,0.7576,0.7778,0.7980,0.8182,0.8384,0.8586,0.8788,0.8990,0.9192,0.9394,0.9596,0.9798,1.0000],
        'red': [0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.94,0.9657,0.9674,0.9691,0.9709,0.9726,0.9743,0.9760,0.9777,0.9794,0.9811,0.9829,0.9846,0.9863,0.9880,0.9897,0.9914,0.9931,0.9949,0.9966,0.9983,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9708,0.9415,0.9123,0.8831,0.8538,0.8246,0.7954,0.7661,0.7369,0.7077,0.6784,0.6456,0.6128,0.5800,0.5472,0.5143,0.4815,0.4487,0.4159,0.3831,0.3503,0.3174,0.2846,0.2518,0.2190,0.1862,0.1534,0.1205,0.0877,0.0549,0.0529,0.0510,0.0490,0.0471,0.0451,0.0431,0.0412,0.0392,0.0373,0.0353,0.0333,0.0314,0.0294,0.0275,0.0255,0.0235,0.0216,0.0196],
        'green': [0,.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.42,0.450,0.4800,0.5100,0.54000,0.5700,0.6000,0.630,0.6600,0.6900,0.7100,0.7300,0.76000,0.7900,0.82000,0.8500,0.88000,0.9100,0.9400,0.9700,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9929,0.9857,0.9786,0.9715,0.9643,0.9572,0.9501,0.9430,0.9358,0.9287,0.9216,0.8815,0.8415,0.8014,0.7614,0.7214,0.6813,0.6413,0.6012,0.5612,0.5212,0.4811,0.4411,0.4010,0.3610,0.3209,0.2809,0.2409,0.2008,0.1608,0.1582,0.1556,0.1529,0.1503,0.1477,0.1451,0.1425,0.1399,0.1373,0.1346,0.1320,0.1294,0.1268,0.1242,0.1216,0.1190,0.1163,0.1137],
        'blue': [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.02,0.04,0.06,0.08,0.1,0.12,0.14,0.16,0.18,0.2,0.22,0.24,0.26,0.28,0.3,0.32,0.34,0.36,0.38,0.40,0.4286,0.5000,0.5714,0.6429,0.7143,0.7857,0.8571,0.9286,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,1.0000,0.9630,0.9259,0.8889,0.8519,0.8148,0.7778,0.7407,0.7037,0.6667,0.6296,0.5926,0.5556,0.5185,0.4815,0.4444,0.4074,0.3704,0.3333],
        'over': [5,29,85],
        'under': [132,0,0]}


def cmapSved(N):
    ved_range_norm = [0.5 * (1 + l) for l in vedS['range']]
    cdict = {'red': list(zip(ved_range_norm, vedS['red'], vedS['red'])),
             'green': list(zip(ved_range_norm, vedS['green'], vedS['green'])),
             'blue': list(zip(ved_range_norm, vedS['blue'], vedS['blue']))}
    cmap = LinearSegmentedColormap('cmapS', cdict, N)
    cmap.set_over(color=[float(l)/255 for l in vedS['over']])
    cmap.set_under(color=[float(l)/255 for l in vedS['under']])
    return cmap

def cmapXved(N, vmax):
    dr = vedX['range'][-1] - vedX['range'][0]
    ved_range_norm = [(l - vedX['range'][0]) / dr for l in vedX['range']]
    cdict = {'red': list(zip(ved_range_norm, vedX['red'], vedX['red'])),
             'green': list(zip(ved_range_norm, vedX['green'], vedX['green'])),
             'blue': list(zip(ved_range_norm, vedX['blue'], vedX['blue']))}
    cmap = LinearSegmentedColormap('cmapS', cdict, N)
    cmap.set_over(color=[float(l)/255 for l in vedX['over']])
    cmap.set_under(color=[float(l)/255 for l in vedX['under']])
    return cmap, vmax * vedX['range'][0]

